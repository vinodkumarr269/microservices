package com.hcl.java;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Sort;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.servlet.ModelAndView;

@RestController

public class EmployeeController {
	@Autowired
	EmployeeDao dao;
	@RequestMapping("/")
	public ModelAndView getEmployees() {
		ModelAndView mv=new ModelAndView();
		mv.addObject("employeeList",dao.findAll());
		mv.setViewName("home");
		return mv;
	}
	@RequestMapping("/displaycontractor")
		public ModelAndView getJavaContractors() {
			ModelAndView mv=new ModelAndView();
			mv.addObject("employeeList",dao.findByDeptAndDesign("h", "g"));
			mv.setViewName("home");
			return mv;
		
	}
	@RequestMapping("/managersalary")
	public ModelAndView getManagerSalary() {
		ModelAndView mv=new ModelAndView();
		mv.addObject("employeeList",dao.findManagerSalary("h", "g", 68));
		mv.setViewName("home");
		return mv;
	
}
	@RequestMapping("/managername")
	public ModelAndView getManagerName() {
		ModelAndView mv=new ModelAndView();
		mv.addObject("employeeList",dao.findManagerName(31000,"devel"));
		mv.setViewName("home");
		return mv;
	
}
	@RequestMapping("/name")
	public ModelAndView getName() {
		ModelAndView mv=new ModelAndView();
		mv.addObject("employeeList",dao.findName("vinod"));
		mv.setViewName("home");
		return mv;
	
}
	@RequestMapping("/displayallsortbydesign")
	public ModelAndView displayAllSortByDesign() {
		ModelAndView mv=new ModelAndView();
		mv.addObject("employeeList",dao.findAll(Sort.by("desig")));
		mv.setViewName("home");
		return mv;
	
}

}
